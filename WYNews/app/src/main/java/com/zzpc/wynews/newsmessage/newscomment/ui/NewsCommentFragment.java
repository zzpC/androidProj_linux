package com.zzpc.wynews.newsmessage.newscomment.ui;

import android.os.Bundle;
import android.support.annotation.NonNull;
import android.support.annotation.Nullable;
import android.support.v4.app.Fragment;
import android.support.v7.widget.LinearLayoutManager;
import android.support.v7.widget.RecyclerView;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;


import com.zzpc.wynews.R;
import com.zzpc.wynews.newsmessage.newscomment.model.Topic;
import com.zzpc.wynews.newsmessage.newscomment.view.CommentDividerItemDecoration;

public class NewsCommentFragment extends Fragment {
    public static final String TEST_JSON = "{\"topicId\":11003,\"userName\":\"cutler\",\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"title\":\"Horoscope New Topic\",\"content\":\"崇圣寺三塔始建于南诏王劝丰祐时期（公元824—859年），先建了大塔“千寻塔”，高69.13米，是座方形密檐式砖塔，共16层。稍后又建了南、北小塔，均高42.19米，是一对八角形的砖塔，都是10级。修建三塔，除了佛家所宣扬的可以成佛外，还有一个重要的原因，是大理古为“泽国多水患”。古籍《金石萃编》中记载：“世传龙性敬塔而畏鹏，大理旧为龙泽，故为此镇之。”相传古时修建三塔，采用垫一层土修一层塔的方法，塔修好以后，才将土逐层挖去，让塔显现出来，故有“堆土建塔”与“挖土现塔”之说。建塔时所搭的桥，高如山丘，长达10余里。修塔时运力不足，还用山羊来驮砖，如今大理的银桥村，古时称为“塔桥村”。古籍记载修三塔，“役工匠七百七十万，耗四万余金，历时八年建成”。修建三塔后，又建了规模弘大的崇圣寺。\\n\\n三塔的具体始建年代，历来记载不一，大体上有：①唐贞观（627至649年）尉迟敬德造；②唐开元元年（713）恭韬、徽义造；③南诏王劝丰祐保和十年至天启元年（唐太和七年至开成五年，833至840）圣僧李贤者等造；④保和十年至天启九年（唐太和七年至大中二年，833至848）博士徐正等造。根据内地同类古塔的建筑年代，云南应稍晚，再与原崇圣寺和中塔内的有关文物及记载相参证，中塔似应建于南诏王劝丰祐时（824至859年在位）最为可能，而两小塔则较中塔为晚，至迟。建于大理国初期，即先建中塔，尔后再增建两小塔。\\n\\n据《南诏野史》（胡本、王本）、《白古通记》等史籍记载，当时崇圣寺与主塔建造时，寺基方7里，圣僧李成眉贤者建三塔，屋890，佛11400，铜40590斤，费工708000余，耗金银布帛绫罗锦缎值金43514斤。\\n\\n元武宗时曾“降圣旨”封释觉性为住持僧，保护寺产，免征粮税。元代亦曾加以维修，使得“殿庑焕然复兴，三塔峙立，金碧交辉，巨丽与山埒（相等）”。\",\"imageList\":[\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\"],\"praise\":652,\"tread\":20,\"reply\":666,\"share\":12,\"createTime\":1486362831406,\"commentsList\":[{\"commentsId\":1002,\"userName\":\"lol\",\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"66666666啊\"},{\"commentsId\":1003,\"userName\":\"fucker\",\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"上了当会计法好\",\"floorList\":[{\"floorId\":1,\"userName\":\"lol\",\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"66666666啊\"}]},{\"commentsId\":1033,\"userName\":\"不够的\",\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"上了当会计法好\",\"floorList\":[{\"floorId\":1,\"userName\":\"lol\",\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"66666666啊\"},{\"floorId\":2,\"userName\":\"lol\",\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"66666666啊\"}]},{\"commentsId\":1043,\"userName\":\"个的\",\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"4个的2\",\"floorList\":[{\"floorId\":1,\"userName\":\"lol\",\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"66666666啊\"},{\"floorId\":2,\"userName\":\"lol\",\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"66666666啊\"},{\"floorId\":3,\"userName\":\"lol\",\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"66666666啊\"}]},{\"commentsId\":1243,\"userName\":\"还\",\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"4个的2\",\"floorList\":[{\"floorId\":1,\"userName\":\"lol\",\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"66666666啊\"},{\"floorId\":2,\"userName\":\"lol\",\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"66666666啊\"},{\"floorId\":3,\"userName\":\"lol\",\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"66666666啊\"},{\"floorId\":4,\"userName\":\"lol\",\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"66666666啊\"}]},{\"commentsId\":1303,\"userName\":\"yhb\",\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"哈哈哈哈h\",\"floorList\":[{\"floorId\":1,\"userName\":2554,\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"丝丝入扣\"},{\"floorId\":2,\"userName\":2554,\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"丝丝入扣\"},{\"floorId\":3,\"userName\":2554,\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"丝丝入扣\"},{\"floorId\":4,\"userName\":2554,\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"丝丝入扣\"},{\"floorId\":5,\"userName\":2554,\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"丝丝入扣\"}]},{\"commentsId\":1303,\"userName\":\"yhb\",\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"哈哈哈哈h\",\"floorList\":[{\"floorId\":1,\"userName\":2554,\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"丝丝入扣\"},{\"floorId\":2,\"userName\":2554,\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"丝丝入扣\"},{\"floorId\":3,\"userName\":2554,\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"丝丝入扣\"},{\"floorId\":4,\"userName\":2554,\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"丝丝入扣\"},{\"floorId\":5,\"userName\":2554,\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"丝丝入扣\"},{\"floorId\":6,\"userName\":2554,\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"丝丝入扣\"}]},{\"commentsId\":1303,\"userName\":\"yhb\",\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"哈哈哈哈h\",\"floorList\":[{\"floorId\":1,\"userName\":2554,\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"丝丝入扣\"},{\"floorId\":2,\"userName\":2554,\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"丝丝入扣\"},{\"floorId\":3,\"userName\":2554,\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"丝丝入扣\"},{\"floorId\":4,\"userName\":2554,\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"丝丝入扣\"},{\"floorId\":5,\"userName\":2554,\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"丝丝入扣\"},{\"floorId\":6,\"userName\":2554,\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"丝丝入扣\"},{\"floorId\":7,\"userName\":2554,\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"丝丝入扣\"}]},{\"commentsId\":1203,\"userName\":\"ijsff\",\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"dfdfg 32说的\",\"floorList\":[{\"floorId\":1,\"userName\":2554,\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"丝丝入扣\"},{\"floorId\":2,\"userName\":2554,\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"丝丝入扣\"},{\"floorId\":3,\"userName\":2554,\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"丝丝入扣\"},{\"floorId\":4,\"userName\":2554,\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"丝丝入扣\"},{\"floorId\":5,\"userName\":2554,\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"丝丝入扣\"},{\"floorId\":6,\"userName\":2554,\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"丝丝入扣\"},{\"floorId\":7,\"userName\":2554,\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"丝丝入扣\"},{\"floorId\":8,\"userName\":2554,\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"丝丝入扣\"},{\"floorId\":9,\"userName\":2554,\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"丝丝入扣\"}]},{\"commentsId\":1004,\"userName\":\"little boy\",\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"keep eat, don't stop!\",\"floorList\":[{\"floorId\":1,\"userName\":\"lol\",\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"66666666啊\"},{\"floorId\":2,\"userName\":\"fucker\",\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"自学成才，好好干\"},{\"floorId\":3,\"isHide\":true},{\"floorId\":11,\"userName\":\"jim\",\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"read the fucking source code.\"}]}]}";

    public static final String TEST_JSON_2 = "[{\"floorId\":3,\"userName\":\"ssk\",\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"可以，很强势\"},{\"floorId\":4,\"userName\":\"据目击者称\",\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"可以，很强势\"},{\"floorId\":5,\"userName\":\"据目击者称\",\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"可以，很强势\"},{\"floorId\":6,\"userName\":\"据目击者称\",\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"可以，很强势\"},{\"floorId\":7,\"userName\":\"据目击者称\",\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"可以，很强势\"},{\"floorId\":8,\"userName\":\"据目击者称\",\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"可以，很强势\"},{\"floorId\":9,\"userName\":\"据目击者称\",\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"可以，很强势\"},{\"floorId\":10,\"userName\":\"据目击者称\",\"userPhoto\":\"https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/logo_white_fe6da1ec.png\",\"content\":\"可以，很强势\"}]";

    private RecyclerView mRecyclerView;
    private TopicAdapter mAdapter;

    @Nullable
    @Override
    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
        super.onCreateView(inflater, container, savedInstanceState);
        View view;
        view=inflater.inflate(R.layout.fragment_newscomment,container,false);
        mAdapter = new TopicAdapter();
        mRecyclerView = (RecyclerView) view.findViewById(R.id.recyclerView);
        LinearLayoutManager mLayoutManager = new LinearLayoutManager(getContext());
        mLayoutManager.setOrientation(LinearLayoutManager.VERTICAL);
        mRecyclerView.setLayoutManager(mLayoutManager);
        mRecyclerView.addItemDecoration(new CommentDividerItemDecoration(getContext(), LinearLayoutManager.VERTICAL));
        mAdapter.setTopic(Topic.parseJson(TEST_JSON));
        mRecyclerView.setAdapter(mAdapter);

        return view;
    }
}
